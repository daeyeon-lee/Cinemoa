## JVM 버전
    Java 1.17

## 백엔드 Compose파일
```yaml
services:
  mysql:
    image: mysql
    container_name: mysql
    restart: unless-stopped
    environment:
      MYSQL_ROOT_PASSWORD: 루트 비밀번호
      MYSQL_DATABASE: cinemoa
      MYSQL_USER: SQL 아이디
      MYSQL_PASSWORD: SQL 비밀번호
      TZ: Asia/Seoul
    ports:
      - "3306:3306"
    volumes:
      - mysql_data:/var/lib/mysql
    networks:
      - cinemoa-network

  redis:
    image: redis:7.2-alpine
    container_name: redis
    restart: unless-stopped
    ports:
      - "6379:6379"
    environment:
      - REDIS_PASSWORD=REDIS 비밀번호
      - TZ=Asia/Seoul
    command: >
      redis-server
      --requirepass REDIS 비밀번호
      --appendonly yes
      --appendfsync everysec
      --maxmemory 256mb
      --maxmemory-policy allkeys-lru
    networks:
      - cinemoa-network
    volumes:
      - redis_data:/data
      - ./redis.conf:/usr/local/etc/redis/redis.conf:ro

  backend:
    image: 941kjw/cinemoa:latest
    container_name: spring
    restart: unless-stopped
    depends_on:
      - mysql
      - redis
    environment:
      SPRING_PROFILES_ACTIVE: prod
      TZ: Asia/Seoul
    ports:
      - "8443:8443"
    volumes:
      - backend_data:/cinemoa/data
      - /home/ubuntu/backend/images:/cinemoa/images
    networks:
      - cinemoa-network

networks:
  cinemoa-network:
    name: "cinemoa-network"

volumes:
  es_data: {}
  redis_data: {}
  mysql_data: {}
  backend_data: {}
```

## 프론트 Compose 

```yaml
services:
  frontend:
    image: 941kjw/cinemoafe:latest  # pull할 이미지
    container_name: frontend
    restart: always
    ports:
      - '3000:3000'
    networks:
      - 'cinemoa-network'
  nginx:
    build:
      context: .
      dockerfile: Dockerfile.nginx
    container_name: nginx
    depends_on:
      - frontend
    ports:
      - '80:80'
      - '443:443'
    volumes:
      - /home/ubuntu/scripts/nginx/nginx.conf:/etc/nginx/nginx.conf
      - /etc/letsencrypt/live/j13a110.p.ssafy.io/fullchain.pem:/etc/nginx/ssl/fullchain.pem
      - /etc/letsencrypt/live/j13a110.p.ssafy.io/privkey.pem:/etc/nginx/ssl/privkey.pem
      - /home/ubuntu/scripts/nginx/renew_certificates.sh:/usr/local/bin/renew_certificates.sh
    networks:
      - 'cinemoa-network'

networks:
  cinemoa-network:
    external: true
```

## application.yml
```yaml
spring:
  output:
    ansi:
      enabled: ALWAYS
  application:
    name: cinemoa
  profiles:
    active: dev
    group:
      dev:
        - db
        - db-local
      prod:
        - db
  mail:
    host: smtp.gmail.com
    port: 587
    username: 'cinemoa.ssafy@gmail.com'     # 보내는 Gmail 주소
    password: ''   # 구글 '앱 비밀번호'(16자리, 공백 없이)
    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true   # TLS
            required: true
  security:
    oauth2:
      client:
        registration:
          google:
            client-id: 구글 클라이언트 id
            client-secret: 구글 클라이언트 비밀번호
            redirect-uri: (필수 아님.)
            scope:
              - profile
              - email
server:
  port: 8443
  ssl:
    enabled: true
    key-store: ssl 키 파일명
    key-store-password: ssl 키 비밀번호
    key-store-type: PKCS12
    key-alias: ssl 키 별칭
  servlet:
    session:
      cookie:
        name: JSESSIONID
        http-only: true
        secure: false
        same-site: none
        max-age: -1
    multipart:
      max-file-size: 10MB
      max-request-size: 200MB

finance:
  api:
    base-url: https://finopenapi.ssafy.io/ssafy/api/v1
    key: 싸피 금융망 키
    admin-user-key: 싸피 금융망에서 생성한 유저 키
    user-key: 싸피 금융망에서 생성한 유저 키
    institution-code: '00100'
    fintech-app-no: '001'
    merchant-id: '14258'
  cinema-accounts:
    cgv:
      bank-code: '001'
      account-no: '0011472669908422'
    lotte:
      bank-code: '001'
      account-no: '0010709983356943'
    megabox:
      bank-code: '001'
      account-no: '0011753112345951'
    other:
      bank-code: '001'
      account-no: '0018886140937219'

uploader:
  user: 'uploader'
  pass: 'AI 이미지 변환기에서 업로드 시 사용할 비밀번호'
  
gms:
  api:
    base-url: https://gms.ssafy.io/gmsapi/api.anthropic.com/v1
    key: 'GMS 키'
    
gpt:
  api:
    base-url: '보조용 gpt 키'
```

## application-db.yml
```yaml
spring:
  datasource:
    url: jdbc:mysql://mysql:3306/cinemoa?serverTimezone=Asia/Seoul
    driver-class-name: com.mysql.cj.jdbc.Driver
    username: Mysql 사용자
    password: Mysql 비밀번호
    hikari:
      idle-timeout: 300000
      minimum-idle: 10
      maximum-pool-size: 100
      connection-timeout: 600000
  jpa:
    open-in-view: false
    hibernate:
      ddl-auto: update
  data:
    redis:
      repositories:
        enabled: false
      host: redis
      port: 6379
      password: Redis 비밀번호
      timeout: 60s
      lettuce:
        pool:
          max-active: 10
          max-idle: 10
          min-idle: 1
images:
  api:
    base: backend/images
```

## banner.txt
```
${AnsiColor.196}:'######::'####:'##::: ##:'########:'##::::'##::'#######:::::'###::::${AnsiColor.DEFAULT}
${AnsiColor.202}'##... ##:. ##:: ###:: ##: ##.....:: ###::'###:'##.... ##:::'## ##:::${AnsiColor.DEFAULT}
${AnsiColor.208} ##:::..::: ##:: ####: ##: ##::::::: ####'####: ##:::: ##::'##:. ##::${AnsiColor.DEFAULT}
${AnsiColor.214} ##:::::::: ##:: ## ## ##: ######::: ## ### ##: ##:::: ##:'##:::. ##:${AnsiColor.DEFAULT}
${AnsiColor.220} ##:::::::: ##:: ##. ####: ##...:::: ##. #: ##: ##:::: ##: #########:${AnsiColor.DEFAULT}
${AnsiColor.190} ##::: ##:: ##:: ##:. ###: ##::::::: ##:.:: ##: ##:::: ##: ##.... ##:${AnsiColor.DEFAULT}
${AnsiColor.154}. ######::'####: ##::. ##: ########: ##:::: ##:. #######:: ##:::: ##:${AnsiColor.DEFAULT}
${AnsiColor.118}:......:::....::..::::..::........::..:::::..:::.......:::..:::::..::${AnsiColor.DEFAULT}
${AnsiColor.79}:::::::::::::::::::::::::: Cinemoa ${application.version : v0.0.1} ::::::::::::::::::::::::::${AnsiColor.DEFAULT}
${AnsiColor.44}:::::::::::::::::::: Powered by Spring Boot ${spring-boot.version} :::::::::::::::::::${AnsiColor.DEFAULT}
```